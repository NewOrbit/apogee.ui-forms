(function(){
function uiForm(e,t){return{restrict:"A",transclude:!0,terminal:!0,controller:function(){},link:function(r,i,n,a,o){var m=n.controller,l=m?m+".":"";a.controller=m,a.elements={},a.cPrefix=l,i.attr("name",l+"form"),i.attr("ng-submit",l+"form.$valid && "+l+"submit()"),i.attr("ng-class","{ attempted: "+l+"form.$submitted }"),i.attr("novalidate",""),t.form["class"]&&i.addClass(t.form["class"]),i.removeAttr("ui-form");var u=t.form.dataContainer;r[u]=r[u]||{},e(i)(r),o(function(e){i.prepend(e)})}}}function uiFormElement(e,t){return{restrict:"A",require:["uiFormElement","^uiForm"],transclude:!0,terminal:!0,controller:function(){},link:function(r,i,n,a,o){var m=a[0],l=a[1],u=l.cPrefix,s=r.$eval(n.uiFormElement)||{model:n.uiFormElement};if(!s.model)throw"You must provide a field name for form-element";var d={validate:!0},c=angular.extend({},d,s),f=angular.copy(t.element.messages);if(c.required=!utils.isUndefined(n.required),f.required=n.required||f.required,n.match){var p=n.match.split(":"),v=p[0];c.match=v,f.match=p.splice(1).join().trim()||f.match+" '{{ form.$labels."+v+" }}'"}var F=t.form.dataContainer,g=u+(F?F+".":"")+c.model,h=c.model.split("."),$=utils.last(h),q=c.name||$[0].toUpperCase()+$.substring(1),b=u+(h.length>1?utils.first(g.split("."))+".":"")+"form."+q;if(m.options=c,m.model=g,m.formFieldName=q,m.elementId="fe_"+utils.uniqueId(),t.element["class"]&&i.addClass(t.element["class"]),c.required&&i.addClass("required"),c.validate){var C=function(e){return angular.element(t.element.templates.validation.entry).text(f[e]).attr("ng-if",b+".$error."+e)},I=angular.element(t.element.templates.validation.container).attr("ng-if",u+"form.$submitted");t.element.validators.forEach(function(e){I.append(C(e))}),i.append(I),i.attr("ng-class","{ invalid: "+b+".$invalid }")}l.elements[c.model]=m,i.removeAttr("ui-form-element"),e(i)(r),o(function(e){i.prepend(e)})}}}function uiFormInput(e){return{restrict:"A",priority:1e3,require:["^uiFormElement","^uiForm"],terminal:!0,link:function(t,r,i,n){var a=n[0],o=n[1];if(r.attr("id",a.elementId),r.attr("name",a.formFieldName),r.attr("ng-model",a.model),a.options.required&&r.attr("required","required"),a.options.match){var m=a.options.match.split(":"),l=m[0],u=(m.splice(1).join(),o.elements[l]);u&&r.attr("ng-match",u.model)}r.removeAttr("ui-form-input"),e(r)(t)}}}function uiFormLabel(e){return{restrict:"A",priority:1e3,require:"^uiFormElement",terminal:!0,link:function(t,r,i,n){t.form.$labels=t.form.$labels||{},t.form.$labels[n.options.model]=r.text(),r.attr("for",n.elementId),r.removeAttr("ui-form-label"),e(r)(t)}}}function validator_match(e){function t(t,r,i,n){if(n){var a=i.ngMatch;if(a){var o=e(a),m=function(e){var r=o(t),i=e===r;return n.$setValidity("match",i),e};n.$parsers.unshift(m),n.$formatters.push(m),i.$observe("ngMatch",function(){m(n.$viewValue)})}}}var r={link:t,restrict:"A",require:"?ngModel"};return r}var uid=0,utils={isUndefined:function(e){return"undefined"==typeof e},first:function(e){return e&&e.length?e[0]:null},last:function(e){return e&&e.length?e[e.length-1]:null},uniqueId:function(){return uid++}};uiForm.$inject=["$compile","uiFormConfig"];var uiFormConfig={form:{dataContainer:"entity"},element:{validators:["required","email","number","match"],templates:{validation:{container:"<span></span>",entry:"<span></span>"}},messages:{required:"This field is required",email:"Invalid email format",number:"Invalid number format",match:"This field must match"}}};uiFormElement.$inject=["$compile","uiFormConfig"],uiFormInput.$inject=["$compile"],uiFormLabel.$inject=["$compile"],validator_match.$inject=["$parse"],angular.module("apogee.ui-forms",[]).directive("uiForm",uiForm).directive("uiFormElement",uiFormElement).directive("uiFormInput",uiFormInput).directive("uiFormLabel",uiFormLabel).value("uiFormConfig",uiFormConfig).directive("ngMatch",validator_match);
})();